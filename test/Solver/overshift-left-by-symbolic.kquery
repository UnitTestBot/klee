# RUN: %kleaver %s > %t
# RUN: not grep INVALID %t

0 : (array (w64 4) (makeSymbolic shift 1))
# ∀ x. x >= 32 → ( (2 << x) = 0 )
# Check we left overshift to zero when shifting a constant ALWAYS!

(query [ (Ule  (w32 32) (ReadLSB w32 (w32 0) 0)) ]
    (Eq
        (Shl w32 (w32 2)
            (ReadLSB w32 (w32 0) 0)
        )
        (w32 0)
    ) [ ] [0] )

# 64-bit version
# ∀ x. x >= 64 → ( (2 << x) = 0 )
1 : (array (w64 8) (makeSymbolic shift64 1))
(query [ (Ule  (w64 64) (ReadLSB w64 (w32 0) 1)) ]
    (Eq
        (Shl w64 (w64 2)
            (ReadLSB w64 (w32 0) 1)
        )
        (w64 0)
    ) [ ] [1] )
